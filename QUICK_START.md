# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“‹ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æ•°æ®åº“ï¼ˆ2åˆ†é’Ÿï¼‰

**æ¨èæ–¹æ¡ˆï¼šVercel Postgres**

1. è®¿é—® [Vercel Dashboard](https://vercel.com/dashboard)
2. åˆ›å»ºæ–°é¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
3. è¿›å…¥ Storage æ ‡ç­¾
4. ç‚¹å‡» "Create Database" â†’ é€‰æ‹© "Postgres"
5. ç­‰å¾…åˆ›å»ºå®Œæˆï¼ˆçº¦30ç§’ï¼‰
6. å¤åˆ¶ `POSTGRES_URL` ç¯å¢ƒå˜é‡

**å¤‡é€‰æ–¹æ¡ˆï¼šSupabaseï¼ˆå…è´¹é¢åº¦æ›´å¤§ï¼‰**

1. è®¿é—® [Supabase](https://supabase.com)
2. åˆ›å»ºæ–°é¡¹ç›®
3. ç­‰å¾…åˆå§‹åŒ–ï¼ˆçº¦2åˆ†é’Ÿï¼‰
4. è¿›å…¥ Settings â†’ Database
5. å¤åˆ¶ Connection string (URI)

---

### ç¬¬äºŒæ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡ï¼ˆ1åˆ†é’Ÿï¼‰

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“è¿æ¥ï¼ˆå¿…å¡«ï¼‰
DATABASE_URL="ä½ çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²"

# ç®¡ç†å‘˜æ‰‹æœºå·ï¼ˆå¿…å¡«ï¼‰
ADMIN_PHONES="13800138000,13900139000"

# ç«™ç‚¹åœ°å€ï¼ˆéƒ¨ç½²åå¡«å†™ï¼‰
NEXT_PUBLIC_SITE_URL="http://localhost:5000"
```

---

### ç¬¬ä¸‰æ­¥ï¼šåˆå§‹åŒ–æ•°æ®åº“ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
# å®‰è£…ä¾èµ–
npm install

# æ¨é€æ•°æ®åº“ç»“æ„
npx drizzle-kit push

# åˆå§‹åŒ–æˆ¿é—´æ•°æ®
npm run dev
# è®¿é—® http://localhost:5000/api/rooms/initialize
```

---

### ç¬¬å››æ­¥ï¼šéƒ¨ç½²åˆ° Vercelï¼ˆ1åˆ†é’Ÿï¼‰

```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# ç™»å½•
vercel login

# éƒ¨ç½²
vercel --prod
```

æˆ–é€šè¿‡ç½‘é¡µï¼š
1. æ¨é€ä»£ç åˆ° GitHub
2. è®¿é—® [Vercel](https://vercel.com/new)
3. å¯¼å…¥ä»“åº“
4. é…ç½®ç¯å¢ƒå˜é‡
5. ç‚¹å‡» Deploy

---

## âœ… éƒ¨ç½²å®Œæˆæ£€æŸ¥

### 1. æ•°æ®åº“æ£€æŸ¥
```bash
# æµ‹è¯•è¿æ¥
psql $DATABASE_URL -c "SELECT COUNT(*) FROM rooms;"

# åº”è¯¥è¿”å› 30ï¼ˆ30ä¸ªæˆ¿é—´ï¼‰
```

### 2. API æ£€æŸ¥
è®¿é—®ä»¥ä¸‹åœ°å€ç¡®è®¤æ­£å¸¸ï¼š
- âœ… `https://your-site.vercel.app/api/rooms`
- âœ… `https://your-site.vercel.app/api/tenants`
- âœ… `https://your-site.vercel.app/api/bills`

### 3. åŠŸèƒ½æ£€æŸ¥
- âœ… è®¿é—®é¦–é¡µï¼š`https://your-site.vercel.app`
- âœ… æµ‹è¯•å…¥ä½ï¼š`https://your-site.vercel.app/checkin`
- âœ… æµ‹è¯•æ”¯ä»˜ï¼š`https://your-site.vercel.app/pay`
- âœ… æµ‹è¯•å•†è¶…ï¼š`https://your-site.vercel.app/checkout`
- âœ… ç®¡ç†åå°ï¼š`https://your-site.vercel.app/admin`

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

### æµ‹è¯•å…¥ä½æµç¨‹
1. è®¿é—® `/checkin`
2. è¾“å…¥æ‰‹æœºå·ï¼š13800138000
3. è¾“å…¥å§“åï¼šå¼ ä¸‰
4. è¾“å…¥æŠ¼é‡‘ï¼š500
5. ç‚¹å‡»"ç¡®è®¤å…¥ä½"
6. âœ… åº”è¯¥è‡ªåŠ¨åˆ†é…æˆ¿é—´ï¼ˆ201ï¼‰

### æµ‹è¯•æ”¯ä»˜æµç¨‹
1. è®¿é—® `/pay`
2. è¾“å…¥æ‰‹æœºå·ï¼š13800138000
3. æŸ¥çœ‹è´¦å•åˆ—è¡¨
4. é€‰æ‹©è´¦å•
5. ç‚¹å‡»"æ”¯ä»˜"
6. æ‰«æ”¶æ¬¾ç 
7. ç‚¹å‡»"ç¡®è®¤å·²æ”¯ä»˜"
8. âœ… åº”è¯¥æ˜¾ç¤ºæ”¯ä»˜æˆåŠŸå¹¶å‘æ”¾ä¼˜æƒ åˆ¸

### æµ‹è¯•å•†è¶…è´­ç‰©
1. è®¿é—® `/checkout`
2. è¾“å…¥æ‰‹æœºå·ï¼š13800138000
3. è¾“å…¥é‡‘é¢ï¼š150
4. é€‰æ‹©ä¼˜æƒ åˆ¸ï¼ˆå¦‚æœ‰ï¼‰
5. ç‚¹å‡»"æ”¯ä»˜"
6. âœ… åº”è¯¥æ˜¾ç¤ºæ”¯ä»˜æˆåŠŸ

---

## ğŸ“± ç”ŸæˆäºŒç»´ç 

### æ–¹æ³•ä¸€ï¼šåœ¨çº¿ç”Ÿæˆ
è®¿é—® [è‰æ–™äºŒç»´ç ](https://cli.im/) ç”Ÿæˆä»¥ä¸‹äºŒç»´ç ï¼š

- å…¥ä½ï¼š`https://your-site.vercel.app/checkin`
- äº¤è´¹ï¼š`https://your-site.vercel.app/pay`
- é€€æˆ¿ï¼š`https://your-site.vercel.app/checkout-room`
- å•†è¶…ï¼š`https://your-site.vercel.app/checkout`

### æ–¹æ³•äºŒï¼šä»£ç ç”Ÿæˆ
```bash
# å®‰è£…ä¾èµ–
npm install qrcode

# è¿è¡Œè„šæœ¬
node scripts/generate-qrcodes.js
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $DATABASE_URL

# æµ‹è¯•è¿æ¥
psql $DATABASE_URL
```

### Q2: æˆ¿é—´åˆå§‹åŒ–å¤±è´¥
```bash
# æ£€æŸ¥æ•°æ®åº“è¡¨æ˜¯å¦åˆ›å»º
psql $DATABASE_URL -c "\dt"

# é‡æ–°æ¨é€ç»“æ„
npx drizzle-kit push

# é‡æ–°åˆå§‹åŒ–
curl -X POST https://your-site.vercel.app/api/rooms/initialize
```

### Q3: æ”¯ä»˜åæ²¡æœ‰å‘åˆ¸
```bash
# æ£€æŸ¥ä¼˜æƒ åˆ¸è§„åˆ™
# ç”µè´¹ â‰¥100å…ƒ æ‰å‘åˆ¸

# æŸ¥çœ‹æ—¥å¿—
vercel logs
```

### Q4: æ”¶æ¬¾ç ä¸æ˜¾ç¤º
```bash
# ç¡®ä¿ public/æ”¶æ¬¾ç .jpg å­˜åœ¨
ls public/æ”¶æ¬¾ç .jpg

# æˆ–ä¸Šä¼ åˆ° Vercel Blob
```

---

## ğŸ“Š ç›‘æ§ä¸ç»´æŠ¤

### æŸ¥çœ‹è®¿é—®æ—¥å¿—
```bash
vercel logs --follow
```

### æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€
```bash
# Vercel Postgres
# Dashboard â†’ Storage â†’ Postgres â†’ Metrics

# Supabase
# Dashboard â†’ Database â†’ Database Health
```

### å¤‡ä»½æ•°æ®åº“
```bash
# å¯¼å‡ºæ•°æ®
pg_dump $DATABASE_URL > backup-$(date +%Y%m%d).sql

# æ¢å¤æ•°æ®
psql $DATABASE_URL < backup-20240101.sql
```

---

## ğŸ‰ å®Œæˆï¼

ç³»ç»Ÿå·²æˆåŠŸéƒ¨ç½²ï¼Œç°åœ¨å¯ä»¥ï¼š

1. ğŸ“± æ‰“å°äºŒç»´ç è´´åœ¨å¢™ä¸Š
2. ğŸ‘¥ è®©ç§Ÿæˆ·æ‰«ç å…¥ä½
3. ğŸ’° è®©ç§Ÿæˆ·æ‰«ç äº¤è´¹
4. ğŸ›’ è®©ç§Ÿæˆ·æ‰«ç è´­ç‰©
5. ğŸ“Š ç®¡ç†å‘˜æŸ¥çœ‹åå°æ•°æ®

**éœ€è¦å¸®åŠ©ï¼Ÿ**
- ğŸ“– æŸ¥çœ‹ [å®Œæ•´éƒ¨ç½²æŒ‡å—](DEPLOYMENT_GUIDE.md)
- ğŸ’³ æŸ¥çœ‹ [æ”¯ä»˜åŠŸèƒ½è¯´æ˜](PAYMENT_VERIFICATION.md)
- ğŸ“ æŸ¥çœ‹ [README](README.md)

---

## ğŸ” å®‰å…¨å»ºè®®

### ç”Ÿäº§ç¯å¢ƒå¿…åšï¼š
1. âœ… ä¿®æ”¹ç®¡ç†å‘˜æ‰‹æœºå·
2. âœ… å¯ç”¨æ”¯ä»˜å‡­è¯ä¸Šä¼ 
3. âœ… å®šæœŸå¤‡ä»½æ•°æ®åº“
4. âœ… é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆHTTPSï¼‰
5. âœ… è®¾ç½®æ•°æ®åº“è®¿é—®ç™½åå•

### å¯é€‰ä¼˜åŒ–ï¼š
- æ·»åŠ æ”¯ä»˜å¯†ç 
- æ·»åŠ çŸ­ä¿¡é€šçŸ¥
- æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½
- æ·»åŠ ç»Ÿè®¡æŠ¥è¡¨
- æ¥å…¥çœŸå®æ”¯ä»˜ç½‘å…³

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸŠ**
